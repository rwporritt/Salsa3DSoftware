#================================================================
#
# Property file for application PCalc
#
#================================================================

application = predictions

# parallelMode can be either sequential or concurrent.
parallelMode = concurrent

# specify max number of threads this process is allowed use when parallelMode is concurrent.
# Default is all.
# maxProcessors = 32

# workDir is  not really pcalc property.  It is specified for convenience and
# referenced elsewhere in this file.

workDir = /snl/Projects/GNDD/GMP/libcorr3d

logFile = <property:workDir>/libcorr3d_logs/<property:sta>_log.txt

#================================================================
#
# PREDICTORS, MODELS, UNCERTAINTY, ETC.
#
#================================================================

# predictors may include any combination of (lookup2d, bender, and slbm)
predictors = bender

# can specify a specific geotess model file, or a salsa3d model directory
benderModel = /snl/Projects/GNDD/GMP/salsa3d_models/salsa3d_v2.1_OUO

# benderUncertaintyType can be [ DistanceDependent | PathDependent ]
benderUncertaintyType = PathDependent

# when benderUncertaintyType = PathDependent, you must specify a directory that PCalc can 
# write lots of temporary files to when computing path dependent uncertainty.
# The directory will be created if it does not exist but will not be deleted at the end of the run.
# Information written in the directory will be deleted at the end of the run but may get left if the run 
# fails or is aborted.  Feel free to delete or empty this directory anytime that PCalc is not using it.
benderUncertaintyWorkDir = <property:workDir>/BenderUncertaintyWorkDir

#================================================================
#
# PHASE SPECIFICATION
#
#================================================================

phase = P
supportedPhases = P,Pn

allowCMBDiffraction = true

#================================================================
#
# GEOTESS GRID SPECIFICATION
#
#================================================================

# inputType must be one of [file | database | greatcircle | grid | geotess]
inputType = geotess

# These properties specify both an input grid and an output grid.  This means that grids will 
# not be stored in each model output file.  All the models will share access to the same externally
# stored grid.  Because geotessRotateGridToStation is true, rotations will be applied at run time
# that will mimic having the input grid rotated such that grid vertex 0 is located at station location.

geotessInputGridFile = filename
geotessOutputGridFile = <property:geotessInputGridFile>

# rotate the grid so that grid vertex 0 is located at the location of the station
geotessRotateGridToStation = true

# all grid points past 'geotessActiveNodeRadius' (degrees) from the station will be populated with NaN.
geotessActiveNodeRadius = 100

#================================================================
#
# DEPTH SPECIFICATION
#
#================================================================

# 2 km until 10, then 5 km until 50, then 10 until 100, 20 until 200, 50 until 400, then 100.
geotessDepths = -6, -4, -2, 0, 2, 4, 6, 8, 10, 15, 20, 25, 30, 35, 40, 45, 50, 60, 70, 80, 90, 100, 120, 140, 160, 180, 200, 250, 300, 350, 400, 500, 600, 700

# When property geotessDepths is used to specify a list of depths, and a seismicity depth model
# is being used to constrain model depths (true by default), the following procedure is implemented.
# At each grid vertex, the minimum and maximum depths in the seismicity depth model at the geographic 
# location of the grid vertex are identified.  The list of depths specified by property geotessDepths 
# is truncated to ignore depths above the minimum depth and depths below the maximum depth.  Then either 
# additional depths are added at the minimum and maximum depths or the first and last depths in the 
# modified list of depths are adjusted such that the minimum and maximum depths in the depth list correspond 
# to the minimum and maximum depth retrieved from the seismicity depth model. 

#================================================================
#
# SITE SPECIFICATION
#
#================================================================

# site has to be included as a property for libcorr3d models. Many sites may be specified, separated
# by a semi-colon, and will be processed one at a time.  A '\' character at the end of any line in 
# a properties file is a continuation character

site = \
AAK	-1	2286324	42.6391	74.4942	1.645	Ala-Archa,_Kyrgyzstan	ss	AAK	0	0; \ 
AFI	-1	2286324	-13.9093	-171.7773	0.706	Afiamalu,_Samoa	ss	AFI	0	0; \ 
AKASG	-1	2286324	50.7012	29.2242	0.16	MALIN_ARRAY,_Ukraine	ar	AKASG	0	0; \ 
AKTO	-1	2286324	50.4348	58.0164	0.379	AKTYUBINSK,_KAZAKHSTAN	ss	AKTO	0	0; \ 
ANMO	-1	2286324	34.9462	-106.4567	1.74	Albuquerque_New_Mexico	ss	ANMO	0	0; \ 
APG	-1	2286324	15.0042	-90.464	1.868	El_Apazote,_Baja_Verapaz,_Guatemala	ss	APG	0	0; \ 
ARCES	-1	2286324	69.534859	25.505777	0.403	ARCESS_Array,_Norway	ar	ARCES	0	0; \ 
ASAR	-1	2286324	-23.665134	133.905261	0.6273	Alice_Springs_Array,_Australia	ar	ASAR	0	0; \ 
ASF	-1	2286324	32.1723	36.8972	0.937	Tel_Al_Asfar,_Jordan	ss	ASF	0	0; \ 
ATAH	-1	2286324	-7.13506	-78.39445	3.165	Atahualpa,_Peru	ss	ATAH	0	0; \ 
ATD	-1	2286324	11.53	42.847	0.61	Arta_Tunnel,_Djibouti	ss	ATD	0	0; \ 
BATI	-1	2286324	-10.206	123.6627	0.34	Baumata,_Nusatenggara_Timur,_Indonesia	ss	BATI	0	0; \ 
BBB	-1	2286324	52.1847	-128.1133	0.014	Bella_Bella,_Canada	ss	BBB	0	0; \ 
BBTS	-1	2286324	14.6604	-16.5334	0.06	Babate,_Senegal	ss	BBTS	0	0; \ 
BDFB	-1	2286324	-15.641797	-48.01483	1.1987	BRASILIA,_Brazil	ss	BDFB	0	0; \ 
BELG	-1	2286324	52.393374	47.624402	0.11	Belogornoe,_Russia	ss	BELG	0	0; \ 
BJT	-1	2286324	40.0183	116.1679	0.197	Baijiatuan,_China	ss	BJT	0	0; \ 
BORG	-1	2286324	64.7474	-21.3268	0.11	Borgarnes_Iceland	ss	BORG	0	0; \ 
BOSA	-1	2286324	-28.614066	25.255484	1.3058	Boshof,_South_Africa	ss	BOSA	0	0; \ 
BRDH	-1	2286324	22.677	91.64253	0.044	Bariadhala_Chittagong,_Bangladesh	ss	BRDH	0	0; \ 
BRTR	-1	2286324	39.725253	33.638946	1.4776	Keskin_Turkey_short_period_array	ar	BRTR	0	0; \ 
BVAR	-1	2286324	53.02492	70.38853	0.42	BOROVOYE_ARRAY,_Kazakhstan	ar	BVAR	0	0; \ 
CFA	-1	2286324	-31.603019	-68.233019	0.052	Coronel_Fontana,_Argentina	ss	CFA	0	0

#================================================================
#
# OUTPUT PARAMETERS: GEOTESS OUTPUT
#
#================================================================

#outputType must = file | database | geotess | libcorr3d
outputType = libcorr3d

# the default outputFile is
# <property:benderModel>/libcorr3d_delta_ak135/<property:sta>_<property:phase>_TT.libcorr3d
# but a different destination can be specified if desired.
# outputFile = xxx

# If overwriteExistingOutputFile is true, and the outputFile already exists, then the existing file is
# overwritten.  If overwriteExistingOutputFile is false, and the outputFile already exists, then the
# surface is not computed and the existing file is not overwritten.  
overwriteExistingOutputFile = false

# include these two file format properties only if the resulting libcorr3d models will be read
# by older versions of GeoTess and LibCorr3D.  Otherwise, comment them out.
# These properties cannot be used in this case because grid rotations at runtime are only supported
# by geotessFileFormat 3 or later.
# geotessFileFormat = 2
# libcorr3dFileFormat = 1
